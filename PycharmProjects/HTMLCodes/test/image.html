<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <input type="file" id="file">
    <div id="result" style="height: 100px; width: 100px; background-color: #e0a0b0"></div>
    <script>
        window.onload=function(){
            if(window.FileReader&&window.Blob&&window.FileList&&window.File){
                document.getElementById("file").addEventListener("change", fileSelect, false);
            }else{
                document.write("不支持");
            }
        };

        function fileSelect(e) {
            e = e||window.event;
            var files = e.target.files;
            var file = files[0];
            if (!/image\/\w+/.test(file.type)){
                alert("need image");
                return false;
            }
            var reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = function () {
                document.getElementById("result").innerHTML = "<img src=" + this.result + " alt=''>";
            }
        }
    </script>
</body>
</html>